const main=document.getElementsByTagName("main")[0];function movieSection(e,n){const t=document.createElement("section");n.appendChild(t);const i=document.createElement("img");t.appendChild(i),i.src=`img/${e.movieTag}.jpg`,i.alt=e.title,i.onclick=detailView.bind(i,e);const c=document.createElement("h6");t.appendChild(c),c.innerText=e.title}async function movieGrid(){try{let e=await fetch("./data/movies.json");(await e.json()).forEach(e=>{movieSection(e,main)})}catch(e){console.error(e)}}function detailView(e){const n=document.createElement("div");main.appendChild(n),n.classList.add("modal");const t=document.createElement("section");n.appendChild(t),t.classList.add("modal-content");const i=document.createElement("img");t.appendChild(i),i.src=`img/${e.movieTag}.jpg`,i.alt=e.title,i.onclick=detailView.bind(i,e);const c=document.createElement("p");t.appendChild(c),c.innerText=e.synopsis;const o=document.createElement("h6");t.appendChild(o),o.innerText=e.title;const a=document.createElement("span");t.appendChild(a),a.innerText="Close",a.onclick=function(){closeModal()},document.addEventListener("keydown",escapeKeyListener)}function escapeKeyListener(e){27===e.keyCode&&closeModal()}function closeModal(){const e=document.getElementsByTagName("div")[0];main.removeChild(e),document.removeEventListener("keydown",escapeKeyListener)}movieGrid();